(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[983],{508:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},532:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},3351:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var a=t(5155),r=t(2115),l=t(2619),o=t.n(l),i=t(63),c=t(508),n=t(3664),d=t(9141),m=t(9708),u=t(532),x=t(7828),h=t(2544),p=t(2663),g=t(6315),f=t(9497);function y(){let[e,s]=(0,r.useState)(!1),[t,l]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),b=(0,i.useRouter)(),{register:N}=(0,f.A)(),{register:j,handleSubmit:w,watch:k,formState:{errors:A}}=(0,h.mN)(),L=k("password"),S=async e=>{if(e.password!==e.confirmPassword)return void p.oR.error("Les mots de passe ne correspondent pas");if(!e.acceptTerms)return void p.oR.error("Vous devez accepter les conditions d'utilisation");v(!0);try{let s=await N({firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password,phone:e.phone});s.success?(p.oR.success("Compte cr\xe9\xe9 avec succ\xe8s !"),b.push("/dashboard")):p.oR.error(s.error||"Erreur lors de la cr\xe9ation du compte")}catch(e){p.oR.error("Une erreur est survenue")}finally{v(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(g.A,{size:"lg"})}),(0,a.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Cr\xe9ez votre compte FastDeal"}),(0,a.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Ou"," ",(0,a.jsx)(o(),{href:"/auth/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"connectez-vous \xe0 votre compte existant"})]})]}),(0,a.jsxs)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:[(0,a.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[(0,a.jsxs)("form",{className:"space-y-6",onSubmit:w(S),children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"Pr\xe9nom"}),(0,a.jsxs)("div",{className:"mt-1 relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(c.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{...j("firstName",{required:"Le pr\xe9nom est requis",minLength:{value:2,message:"Le pr\xe9nom doit contenir au moins 2 caract\xe8res"}}),type:"text",autoComplete:"given-name",className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Pr\xe9nom"})]}),A.firstName&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:A.firstName.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Nom"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("input",{...j("lastName",{required:"Le nom est requis",minLength:{value:2,message:"Le nom doit contenir au moins 2 caract\xe8res"}}),type:"text",autoComplete:"family-name",className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Nom"})}),A.lastName&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:A.lastName.message})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Adresse email"}),(0,a.jsxs)("div",{className:"mt-1 relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(n.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{...j("email",{required:"L'email est requis",pattern:{value:/^\S+@\S+$/i,message:"Format d'email invalide"}}),type:"email",autoComplete:"email",className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"votre@email.com"})]}),A.email&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:A.email.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"T\xe9l\xe9phone (optionnel)"}),(0,a.jsxs)("div",{className:"mt-1 relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(d.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{...j("phone"),type:"tel",autoComplete:"tel",className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"+33 6 12 34 56 78"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),(0,a.jsxs)("div",{className:"mt-1 relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(m.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{...j("password",{required:"Le mot de passe est requis",minLength:{value:8,message:"Le mot de passe doit contenir au moins 8 caract\xe8res"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,message:"Le mot de passe doit contenir au moins une minuscule, une majuscule et un chiffre"}}),type:e?"text":"password",autoComplete:"new-password",className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Mot de passe s\xe9curis\xe9"}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!e),children:e?(0,a.jsx)(u.A,{className:"h-5 w-5 text-gray-400"}):(0,a.jsx)(x.A,{className:"h-5 w-5 text-gray-400"})})]}),A.password&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:A.password.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmer le mot de passe"}),(0,a.jsxs)("div",{className:"mt-1 relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(m.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{...j("confirmPassword",{required:"Veuillez confirmer votre mot de passe",validate:e=>e===L||"Les mots de passe ne correspondent pas"}),type:t?"text":"password",autoComplete:"new-password",className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Confirmez votre mot de passe"}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!t),children:t?(0,a.jsx)(u.A,{className:"h-5 w-5 text-gray-400"}):(0,a.jsx)(x.A,{className:"h-5 w-5 text-gray-400"})})]}),A.confirmPassword&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:A.confirmPassword.message})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{...j("acceptTerms",{required:"Vous devez accepter les conditions d'utilisation"}),id:"accept-terms",name:"acceptTerms",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,a.jsxs)("label",{htmlFor:"accept-terms",className:"ml-2 block text-sm text-gray-900",children:["J'accepte les"," ",(0,a.jsx)(o(),{href:"/terms",className:"text-blue-600 hover:text-blue-500",children:"conditions d'utilisation"})," ","et la"," ",(0,a.jsx)(o(),{href:"/privacy",className:"text-blue-600 hover:text-blue-500",children:"politique de confidentialit\xe9"})]})]}),A.acceptTerms&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:A.acceptTerms.message}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:y,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:y?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cr\xe9ation du compte..."]}):"Cr\xe9er mon compte"})})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Avantages FastDeal"})})]}),(0,a.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Achat et vente d'appareils \xe9lectroniques"]}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Produits v\xe9rifi\xe9s et garantis"]}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Communaut\xe9 de confiance"]})]})]})]}),(0,a.jsx)("div",{className:"mt-8 text-center",children:(0,a.jsx)(o(),{href:"/",className:"text-sm text-gray-600 hover:text-gray-500",children:"â† Retour \xe0 l'accueil"})})]})]})}},3664:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},4934:(e,s,t)=>{Promise.resolve().then(t.bind(t,3351))},6315:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var a=t(5155);t(2115);var r=t(512);let l=e=>{let{className:s="",size:t="md",variant:l="default",showText:o=!0}=e;return(0,a.jsxs)("div",{className:"flex items-center space-x-2 ".concat(s),children:[(0,a.jsxs)("div",{className:"relative ".concat({sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12",xl:"w-16 h-16"}[t]),children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-green-700 to-green-900 rounded-lg shadow-lg"}),(0,a.jsx)("div",{className:"relative flex items-center justify-center w-full h-full",children:(0,a.jsx)(r.A,{className:"".concat("sm"===t?"w-4 h-4":"md"===t?"w-5 h-5":"lg"===t?"w-6 h-6":"w-8 h-8"," text-white"),strokeWidth:2.5})}),(0,a.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-orange-500 rounded-full border-2 border-white"})]}),o&&(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("span",{className:"font-bold ".concat({sm:"text-lg",md:"text-xl",lg:"text-2xl",xl:"text-4xl"}[t]," ").concat({default:{cart:"text-blue-600",text:"text-gray-800"},white:{cart:"text-white",text:"text-white"},dark:{cart:"text-blue-500",text:"text-gray-900"}}[l].text," leading-none"),children:["Fast",(0,a.jsx)("span",{className:"text-green-900",children:"Deal"})]}),"sm"!==t&&(0,a.jsx)("span",{className:"text-xs text-black  mt-1",children:"\xc9lectronique d'occasion"})]})]})}},7621:(e,s,t)=>{"use strict";t.d(s,{FH:()=>a,O5:()=>l,QF:()=>o,R2:()=>r,c4:()=>i});let a=t(5125).A.create({baseURL:"http://localhost:5000/api",timeout:1e4,headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{let s=localStorage.getItem("token");return s&&(e.headers.Authorization="Bearer ".concat(s)),e},e=>Promise.reject(e)),a.interceptors.response.use(e=>e,e=>{var s;return(null==(s=e.response)?void 0:s.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/auth/login"),Promise.reject(e)});let r={register:e=>a.post("/auth/register",e),login:e=>a.post("/auth/login",e),getProfile:()=>a.get("/auth/profile"),updateProfile:e=>a.put("/auth/profile",e),changePassword:e=>a.put("/auth/change-password",e),logout:()=>a.post("/auth/logout"),verifyToken:()=>a.get("/auth/verify")},l=e=>{localStorage.setItem("token",e)},o=()=>{localStorage.removeItem("token"),localStorage.removeItem("user")},i=()=>localStorage.getItem("token")},7828:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9141:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},9497:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var a=t(2115),r=t(7621);function l(){let[e,s]=(0,a.useState)({user:null,isLoading:!0,isAuthenticated:!1});(0,a.useEffect)(()=>{t()},[]);let t=async()=>{if(!(0,r.c4)())return void s({user:null,isLoading:!1,isAuthenticated:!1});try{await r.R2.verifyToken();let e=await r.R2.getProfile();s({user:e.data.user,isLoading:!1,isAuthenticated:!0})}catch(e){(0,r.QF)(),s({user:null,isLoading:!1,isAuthenticated:!1})}},l=async(e,t)=>{try{let{token:a,user:l}=(await r.R2.login({email:e,password:t})).data;return(0,r.O5)(a),localStorage.setItem("user",JSON.stringify(l)),s({user:l,isLoading:!1,isAuthenticated:!0}),{success:!0,user:l}}catch(e){var a,l;return{success:!1,error:(null==(l=e.response)||null==(a=l.data)?void 0:a.message)||"Login failed"}}},o=async e=>{try{let{token:t,user:a}=(await r.R2.register(e)).data;return(0,r.O5)(t),localStorage.setItem("user",JSON.stringify(a)),s({user:a,isLoading:!1,isAuthenticated:!0}),{success:!0,user:a}}catch(e){var t,a;return{success:!1,error:(null==(a=e.response)||null==(t=a.data)?void 0:t.message)||"Registration failed"}}},i=async()=>{try{await r.R2.logout()}catch(e){}finally{(0,r.QF)(),s({user:null,isLoading:!1,isAuthenticated:!1})}},c=async e=>{try{let t=(await r.R2.updateProfile(e)).data.user;return localStorage.setItem("user",JSON.stringify(t)),s(e=>({...e,user:t})),{success:!0,user:t}}catch(e){var t,a;return{success:!1,error:(null==(a=e.response)||null==(t=a.data)?void 0:t.message)||"Profile update failed"}}},n=async(e,s)=>{try{return await r.R2.changePassword({currentPassword:e,newPassword:s}),{success:!0}}catch(e){var t,a;return{success:!1,error:(null==(a=e.response)||null==(t=a.data)?void 0:t.message)||"Password change failed"}}};return{...e,login:l,register:o,logout:i,updateProfile:c,changePassword:n,refreshAuth:t}}},9708:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}},e=>{e.O(0,[297,663,125,432,441,255,358],()=>e(e.s=4934)),_N_E=e.O()}]);